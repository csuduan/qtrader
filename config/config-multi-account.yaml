# 多账户配置示例
# 支持TqSdk和CTP接口的并发多账户配置

# 天勤认证配置（全局共享）
tianqin:
  username: "csuduan"
  password: "715300"

# 多账户配置
accounts:
  # 账户1 - TqSdk快期模拟
  - account_id: "DQ"
    account_type: "kq"
    account_name: "模拟账户1"
    interface: "tqsdk"
    enabled: true


# 单账户兼容配置（向后兼容，可选）
# 如果存在accounts配置，将忽略以下字段
account_type: "kq"
account_id: ""
trading_account: null

# 目录配置
paths:
  switchPos_files: "./data/orders"
  logs: "./data/logs"
  database: "./storage/trading.db"
  export: "./data/export"

# 风控参数（每个账户独立风控）
risk_control:
  max_daily_orders: 10000
  max_daily_cancels: 5000
  max_order_volume: 50
  max_split_volume: 5
  order_timeout: 5

# 行情订阅
market:
  subscribe_symbols:
    - "SHFE.rb2605"
    - "SHFE.ag2605"
    - "CZCE.MA601"
  kline_duration: 60

# API服务配置
api:
  host: "0.0.0.0"
  port: 8000
  cors_origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
    - "http://localhost:8080"
    - "http://localhost:3001"

# 交易控制
trading:
  auto_trade: true
  paused: false

# 定时任务配置
scheduler:
  jobs:
    # 连接任务
    - job_id: pre_market_connect
      job_name: 盘前自动连接
      job_group: 交易
      job_description: 开盘前自动连接交易
      cron_expression: "55 8,20 * * *"
      enabled: true
      job_method: _pre_market_connect

    # 断开连接任务
    - job_id: post_market_disconnect
      job_name: 盘后断开连接
      job_group: 交易
      job_description: 收盘后断开交易连接
      cron_expression: "35 2,15 * * *"
      enabled: true
      job_method: _post_market_disconnect

    # 换仓任务
    - job_id: auto_rotation
      job_name: 自动换仓
      job_group: 换仓
      job_description: 开盘后自动执行换仓
      cron_expression: "5,35 9,21 * * *"
      enabled: true
      job_method: execute_position_rotation

    # 订单扫描任务
    - job_id: scan_orders
      job_name: 扫描换仓文件
      job_group: 换仓
      job_description: 扫描换仓文件
      cron_expression: "*/10 * * * *"
      enabled: true
      job_method: _scan_orders

    # 导出任务
    - job_id: post_market_export
      job_name: 收盘后处理
      job_group: 交易
      job_description: 收盘后处理
      cron_expression: "35 15 * * *"
      enabled: true
      job_method: _post_market_export
